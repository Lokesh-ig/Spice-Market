<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Shopping Cart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container my-5">
    <h1 class="text-center mb-4">Your Cart</h1>
    <ul id="cartItems" class="list-group mb-4"></ul>
    <div id="totalPrice" class="text-center mb-4"></div>
    <div class="text-center">
        <button id="clearCart" class="btn btn-danger">Clear Cart</button>
        <a href="index.html#product" class="btn btn-secondary">Continue Shopping</a>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const cartItems = document.getElementById("cartItems");
        const totalPrice = document.getElementById("totalPrice");
        const clearCart = document.getElementById("clearCart");

        const cart = JSON.parse(localStorage.getItem("cart")) || [];

        if(cart.length === 0) {
            cartItems.innerHTML = "<li class='list-group-item'>Your cart is empty.</li>";
            totalPrice.textContent = "";
        } else {
            let total = 0;
            cart.forEach(item => {
                const li = document.createElement("li");
                li.className = "list-group-item";
                li.textContent = item;

                const priceMatch = item.match(/\$(\d+)/);
                if(priceMatch) {
                    total += parseInt(priceMatch[1], 10);
                }

                cartItems.appendChild(li);
            });

            totalPrice.innerHTML = `<h4>Total: $${total}</h4>`;
        }

        clearCart.addEventListener("click", function() {
            localStorage.removeItem("cart");
            cartItems.innerHTML = "<li class='list-group-item'>Your cart is empty.</li>";
            totalPrice.textContent = "";
        });
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
